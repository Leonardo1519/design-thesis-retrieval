<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; connect-src 'self' http://export.arxiv.org;">
  <title>Design Thesis Retrieval</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #333;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      background: white;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      padding: 40px;
      max-width: 900px;
      width: 100%;
      text-align: center;
    }

    h1 {
      color: #667eea;
      margin-bottom: 10px;
      font-size: 2.5em;
    }

    p {
      color: #666;
      font-size: 1.1em;
      line-height: 1.6;
      margin-top: 20px;
    }

    .info {
      margin-top: 30px;
      padding: 20px;
      background: #f5f5f5;
      border-radius: 10px;
      font-size: 0.9em;
      color: #555;
    }

    .search-section {
      margin-top: 30px;
      text-align: left;
    }

    .search-mode-toggle {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      border-bottom: 2px solid #eee;
      padding-bottom: 10px;
    }

    .mode-btn {
      padding: 8px 20px;
      background: transparent;
      border: 2px solid #ddd;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.9em;
      transition: all 0.3s;
      color: #666;
    }

    .mode-btn.active {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border-color: #667eea;
    }

    .mode-btn:hover {
      border-color: #667eea;
      color: #667eea;
    }

    .mode-btn.active:hover {
      color: white;
    }

    .search-form {
      margin-bottom: 20px;
    }

    .form-group {
      margin-bottom: 15px;
    }

    .form-group label {
      display: block;
      margin-bottom: 5px;
      color: #555;
      font-size: 0.9em;
      font-weight: 500;
    }

    .form-row {
      display: flex;
      gap: 10px;
      align-items: flex-end;
    }

    .form-row .form-group {
      flex: 1;
      margin-bottom: 0;
    }

    .form-group select,
    .form-group input[type="number"] {
      width: 100%;
      padding: 10px;
      border: 2px solid #ddd;
      border-radius: 8px;
      font-size: 1em;
      outline: none;
      transition: border-color 0.3s;
    }

    .form-group select:focus,
    .form-group input[type="number"]:focus {
      border-color: #667eea;
    }

    .search-actions {
      display: flex;
      gap: 10px;
      margin-top: 15px;
    }

    .search-condition {
      margin-bottom: 15px;
      padding: 15px;
      background: #f9f9f9;
      border-radius: 8px;
      border: 1px solid #e0e0e0;
    }

    .condition-row {
      display: flex;
      gap: 10px;
      align-items: flex-start;
    }

    .add-condition-btn:hover {
      background: #45a049 !important;
    }

    .remove-condition-btn:hover {
      background: #da190b !important;
    }

    .search-input {
      flex: 1;
      padding: 12px;
      border: 2px solid #ddd;
      border-radius: 8px;
      font-size: 1em;
      outline: none;
      transition: border-color 0.3s;
    }

    .search-input:focus {
      border-color: #667eea;
    }

    .search-btn {
      padding: 12px 30px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 1em;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .search-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
    }

    .search-btn:active {
      transform: translateY(0);
    }

    .search-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }

    .loading {
      text-align: center;
      padding: 20px;
      color: #667eea;
      font-size: 1.1em;
    }

    .error {
      padding: 15px;
      background: #fee;
      border: 1px solid #fcc;
      border-radius: 8px;
      color: #c33;
      margin-bottom: 20px;
    }

    .papers-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      background: white;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      border-radius: 8px;
      overflow: hidden;
    }

    .papers-table thead {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }

    .papers-table th {
      padding: 15px;
      text-align: left;
      font-weight: 600;
      white-space: nowrap;
    }

    .papers-table td {
      padding: 15px;
      border-bottom: 1px solid #eee;
      vertical-align: top;
    }

    .papers-table tbody tr:hover {
      background: #f8f9ff;
    }

    .papers-table tbody tr:last-child td {
      border-bottom: none;
    }

    .paper-title {
      font-weight: 600;
      color: #333;
      margin-bottom: 5px;
      line-height: 1.4;
      word-wrap: break-word;
    }

    .paper-id {
      color: #667eea;
      font-size: 0.85em;
      margin-top: 5px;
    }

    .paper-authors {
      color: #666;
      font-size: 0.9em;
      line-height: 1.5;
      word-wrap: break-word;
    }

    .paper-summary {
      color: #777;
      font-size: 0.9em;
      line-height: 1.6;
      word-wrap: break-word;
      max-height: 120px;
      overflow-y: auto;
    }

    .paper-categories {
      display: flex;
      flex-wrap: wrap;
      gap: 5px;
      margin-top: 5px;
    }

    .category-tag {
      background: #e8eaf6;
      color: #667eea;
      padding: 3px 8px;
      border-radius: 4px;
      font-size: 0.75em;
    }

    .paper-link {
      color: #667eea;
      text-decoration: none;
      font-size: 0.9em;
    }

    .paper-link:hover {
      text-decoration: underline;
    }

    .no-results {
      text-align: center;
      padding: 40px;
      color: #999;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ¨ Design Thesis Retrieval</h1>
    <p>æ¬¢è¿ä½¿ç”¨è®¾è®¡è®ºæ–‡æ£€ç´¢åº”ç”¨</p>
    
    <div class="search-section">
      <div class="search-mode-toggle">
        <button class="mode-btn active" data-mode="simple" id="simpleModeBtn">ç®€å•æœç´¢</button>
        <button class="mode-btn" data-mode="advanced" id="advancedModeBtn">é«˜çº§æœç´¢</button>
      </div>

      <!-- ç®€å•æœç´¢è¡¨å• -->
      <form class="search-form" id="simpleSearchForm" style="display: block;">
        <div class="form-row">
          <div class="form-group">
            <label for="maxResults">ç»“æœæ•°é‡</label>
            <input type="number" id="maxResults" min="1" max="100" value="10">
          </div>
        </div>
        
        <!-- æœç´¢æ¡ä»¶å®¹å™¨ -->
        <div id="searchConditionsContainer">
          <!-- ç¬¬ä¸€ä¸ªæœç´¢æ¡ä»¶ -->
          <div class="search-condition" data-index="0">
            <div class="condition-row">
              <div class="form-group" style="flex: 0 0 150px;">
                <label>æœç´¢ç±»å‹</label>
                <select class="condition-type">
                  <option value="all">å…¨éƒ¨å­—æ®µ</option>
                  <option value="ti">æ ‡é¢˜</option>
                  <option value="au">ä½œè€…</option>
                  <option value="abs">æ‘˜è¦</option>
                  <option value="co">è¯„è®º</option>
                  <option value="jr">æœŸåˆŠå‚è€ƒ</option>
                  <option value="cat">åˆ†ç±»</option>
                  <option value="rn">æŠ¥å‘Šç¼–å·</option>
                  <option value="id">ID</option>
                </select>
              </div>
              <div class="form-group" style="flex: 1;">
                <label>å…³é”®è¯</label>
                <input 
                  type="text" 
                  class="search-input condition-keyword" 
                  placeholder="è¾“å…¥æœç´¢å…³é”®è¯"
                >
              </div>
              <div class="form-group condition-operator-group" style="flex: 0 0 100px; display: none;">
                <label>é€»è¾‘å…³ç³»</label>
                <select class="condition-operator">
                  <option value="AND">AND</option>
                  <option value="OR">OR</option>
                  <option value="ANDNOT">NOT</option>
                </select>
              </div>
              <button type="button" class="remove-condition-btn" style="display: none; margin-top: 25px; padding: 10px 15px; background: #f44336; color: white; border: none; border-radius: 6px; cursor: pointer;">åˆ é™¤</button>
            </div>
          </div>
        </div>
        
        <div style="margin-top: 10px;">
          <button type="button" class="add-condition-btn" style="padding: 8px 20px; background: #4CAF50; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 0.9em;">+ æ·»åŠ æ¡ä»¶</button>
        </div>
        
        <div class="search-actions">
          <button type="submit" class="search-btn" id="simpleSearchBtn">æœç´¢</button>
          <button type="button" class="search-btn" id="clearBtn" style="background: #999;">æ¸…ç©º</button>
        </div>
      </form>

      <!-- é«˜çº§æœç´¢è¡¨å• -->
      <form class="search-form" id="advancedSearchForm" style="display: none;">
        <div class="form-group">
          <label for="advancedQuery">arXiv æœç´¢æŸ¥è¯¢è¯­æ³•</label>
          <input 
            type="text" 
            class="search-input" 
            id="advancedQuery" 
            placeholder="ä¾‹å¦‚: ti:LLM AND cat:cs.AI OR au:Smith"
          >
          <small style="display: block; margin-top: 5px; color: #888; font-size: 0.85em;">
            æ”¯æŒè¯­æ³•: ti:(æ ‡é¢˜), au:(ä½œè€…), abs:(æ‘˜è¦), cat:(åˆ†ç±»), AND, OR, NOT, +, -<br>
            ç¤ºä¾‹: ti:LLM AND cat:cs.AI | all:design ANDNOT cat:math
          </small>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="advancedMaxResults">ç»“æœæ•°é‡</label>
            <input type="number" id="advancedMaxResults" min="1" max="100" value="10">
          </div>
          <div class="form-group">
            <label for="startIndex">èµ·å§‹ä½ç½®</label>
            <input type="number" id="startIndex" min="0" value="0">
          </div>
        </div>
        <div class="search-actions">
          <button type="submit" class="search-btn" id="advancedSearchBtn">æœç´¢</button>
          <button type="button" class="search-btn" id="advancedClearBtn" style="background: #999;">æ¸…ç©º</button>
        </div>
      </form>
      
      <div id="errorMessage" style="display: none;"></div>
      <div id="loadingMessage" style="display: none;" class="loading">æ­£åœ¨åŠ è½½...</div>
      
      <div id="resultsContainer"></div>
    </div>
    
    <!-- <div class="info">
      <p><strong>Electron ç‰ˆæœ¬:</strong> <span id="electron-version"></span></p>
      <p><strong>Node ç‰ˆæœ¬:</strong> <span id="node-version"></span></p>
      <p><strong>Chrome ç‰ˆæœ¬:</strong> <span id="chrome-version"></span></p>
    </div> -->
  </div>

  <script src="renderer.js"></script>
</body>
</html>

